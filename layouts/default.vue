<template>
  <div
    class="flex flex-col w-full min-h-screen bg-base-100 bg-gradient-to-b from-[#E9F3F6] to-[#F1F6F7] text-base-content font-iranyekan"
    style="direction: rtl">
    <!-- Header section -->
    <NavbarTop :platform="cn.__(['layouts', 'default', 'header', 'platform'])"
      :setting="cn.__(['layouts', 'default', 'header', 'profile'])" :profile="profile()" class="shadow-md mx-auto">
    </NavbarTop>

    <div class="flex flex-row h-full flex-grow mt-2 ml-2 gap-2">
      <div class="flex flex-row">
        <!-- Right navbar -->
        <NavbarRight class="justify-between py-2">
          <div>
            <!-- پیشخان -->
            <div @click="actived_navbar = 'home'">
              <NavbarRightSvgItem :active="actived_navbar === 'home'">
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M1.38843 13.5818H9.37734C10.1097 13.5818 10.7088 12.9747 10.7088 12.2326V1.43948C10.7088 0.697447 10.1097 0.090332 9.37734 0.090332H1.38843C0.656114 0.090332 0.0569458 0.697447 0.0569458 1.43948V12.2326C0.0569458 12.9747 0.656114 13.5818 1.38843 13.5818ZM1.38843 24.3749H9.37734C10.1097 24.3749 10.7088 23.7678 10.7088 23.0258V17.6292C10.7088 16.8872 10.1097 16.2801 9.37734 16.2801H1.38843C0.656114 16.2801 0.0569458 16.8872 0.0569458 17.6292V23.0258C0.0569458 23.7678 0.656114 24.3749 1.38843 24.3749ZM14.7033 24.3749H22.6922C23.4245 24.3749 24.0237 23.7678 24.0237 23.0258V12.2326C24.0237 11.4906 23.4245 10.8835 22.6922 10.8835H14.7033C13.971 10.8835 13.3718 11.4906 13.3718 12.2326V23.0258C13.3718 23.7678 13.971 24.3749 14.7033 24.3749ZM13.3718 1.43948V6.83605C13.3718 7.57808 13.971 8.18519 14.7033 8.18519H22.6922C23.4245 8.18519 24.0237 7.57808 24.0237 6.83605V1.43948C24.0237 0.697447 23.4245 0.090332 22.6922 0.090332H14.7033C13.971 0.090332 13.3718 0.697447 13.3718 1.43948Z" />
                </svg>
              </NavbarRightSvgItem>
            </div>
            <div @click="actived_navbar = 'department'">
              <NavbarRightSvgItem :active="actived_navbar === 'department'">
                <!-- ابزار سئو -->
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_45_562)">
                    <path
                      d="M17.0433 0.0510406C16.9261 0.116864 14.5349 2.5048 14.4763 2.6145C14.3811 2.79369 14.4433 3.06795 14.5971 3.14109C14.6338 3.15937 14.8791 3.18132 15.1391 3.19229L15.6151 3.21057L15.6261 3.60186L15.6371 3.9968H8.78944C1.21671 3.9968 1.61586 3.98583 1.11418 4.23084C0.645465 4.46488 0.304912 4.84519 0.110833 5.34984C0.0192869 5.58387 0.0192869 5.60947 0.015625 6.59317V7.59881H0.40012H0.784615L0.802925 6.62974C0.821234 5.69724 0.824896 5.65335 0.909118 5.4888C1.02264 5.26573 1.24967 5.039 1.48037 4.91467L1.66346 4.81959H8.6393H15.6151L15.6261 8.61176L15.6335 12.4076H16.0179H16.4024V7.56224C16.4024 2.2927 16.4134 2.56331 16.201 2.46823C16.1498 2.44263 16.0399 2.42435 15.963 2.42435C15.8825 2.42435 15.8165 2.41337 15.8165 2.39509C15.8165 2.35487 17.1824 0.998168 17.2264 0.998168C17.2776 0.998168 18.6325 2.36218 18.6142 2.39509C18.6032 2.40972 18.5263 2.42435 18.4421 2.42435C18.3542 2.42435 18.248 2.44994 18.2041 2.48285C18.0027 2.62182 18.0137 2.36584 18.0137 7.3794V12.0053H18.4165H18.8193V8.39966V4.79765L19.7823 4.80862C20.6465 4.81959 20.7564 4.8269 20.8882 4.89273C21.1189 5.00243 21.3386 5.19259 21.4412 5.36812C21.6426 5.71552 21.6389 5.58387 21.6389 9.9648V14.0166H22.0234H22.4079V9.90629C22.4079 7.38671 22.3932 5.72649 22.3713 5.60947C22.2394 4.90736 21.6609 4.29666 20.9248 4.07725C20.793 4.03702 20.4818 4.01874 19.7823 4.00777L18.8193 3.98948V3.59088V3.19229H19.2697C19.7823 3.19229 19.8702 3.16303 19.9654 2.9619C20.0204 2.8522 20.0277 2.80466 19.9947 2.70958C19.9654 2.62547 19.5516 2.18665 18.6801 1.31632C17.501 0.138805 17.3948 0.0400705 17.2593 0.0254431C17.1824 0.0181293 17.0835 0.0290995 17.0433 0.0510406Z" />
                    <path
                      d="M19.6289 0.402263V0.804518L19.8596 0.830116C20.5078 0.895939 21.0644 1.44081 21.2072 2.15024L21.2548 2.38794H21.6356H22.0201L21.9945 2.13196C21.9395 1.5944 21.7125 1.13729 21.2951 0.724067C20.8776 0.307184 20.4125 0.0841155 19.8596 0.0256057L19.6289 7.62939e-06V0.402263Z" />
                    <path d="M2.01562 6.00839V6.41064H2.40012H2.78462V6.00839V5.60613H2.40012H2.01562V6.00839Z" />
                    <path
                      d="M3.60326 5.65344C3.59228 5.68269 3.59228 5.85822 3.59594 6.04838L3.60693 6.39212L4.00241 6.40309L4.39423 6.41406V6.00815V5.6059H4.00973C3.72044 5.6059 3.61791 5.61687 3.60326 5.65344Z" />
                    <path d="M5.19922 6.00839V6.41064H5.60202H6.00483V6.00839V5.60613H5.60202H5.19922V6.00839Z" />
                    <path
                      d="M11.8221 6.06673C11.5987 6.1874 11.6097 5.91314 11.6097 10.7804V15.2272L11.2179 15.2162L10.8224 15.2052L10.8041 12.1225L10.7858 9.0361L10.6649 8.93005L10.5478 8.824H9.22583C7.83432 8.824 7.74643 8.83497 7.66954 8.99588C7.65123 9.03244 7.62925 10.444 7.61827 12.1335L7.59996 15.2052L7.20814 15.2162L6.81266 15.2272V13.5926C6.81266 11.7787 6.81266 11.7714 6.57464 11.6617C6.39521 11.574 4.00768 11.574 3.82825 11.6617C3.59389 11.7714 3.59022 11.8117 3.59022 13.6145V15.2235H2.80292H2.01562V15.6075V15.9915H7.21546H12.4153V11.4021V6.81273H13.2209H14.0265V10.0125V13.2122H14.411H14.7955V9.73456V6.25688L14.671 6.13255L14.5465 6.00822H13.2319C12.1443 6.01187 11.9026 6.01919 11.8221 6.06673ZM9.99848 12.4077V15.2235L9.20385 15.2162L8.40557 15.2052L8.39458 12.4443C8.39092 10.9267 8.39458 9.66142 8.40557 9.63583C8.41655 9.60291 8.61429 9.59194 9.21118 9.59194H9.99848V12.4077ZM6.00705 13.8156V15.2235L5.21243 15.2162L4.41414 15.2052L4.40316 13.8047L4.39583 12.4077H5.20144H6.00705V13.8156Z" />
                    <path
                      d="M0.00732371 13.4207L0.0183093 18.4233L0.109856 18.661C0.380833 19.3558 0.933774 19.8239 1.64417 19.9555C1.90783 20.0067 2.39852 20.014 5.30969 20.014H8.66762L8.60536 20.2444C8.56875 20.3687 8.52114 20.5187 8.50283 20.5808C8.48086 20.6393 8.4296 20.8149 8.38565 20.9648C8.34171 21.1147 8.25016 21.4183 8.18425 21.6413C8.11834 21.8607 8.01947 22.1899 7.96454 22.3727C7.91327 22.5519 7.85468 22.742 7.83637 22.7932C7.81807 22.8444 7.78511 22.9541 7.76314 23.0382L7.72286 23.1955H7.26879H6.81105V23.5977V24H11.2053H15.5995V23.5977V23.1991L15.1528 23.1882L14.706 23.1772L14.6621 23.0492C14.6364 22.9797 14.5925 22.8371 14.5632 22.7384C14.3105 21.879 14.1897 21.5133 14.1567 21.5133C14.1348 21.5133 13.97 21.5609 13.7869 21.6194C13.5123 21.7035 13.4573 21.7364 13.4683 21.7913C13.4793 21.8571 13.5159 21.9887 13.7649 22.8115C13.8272 23.009 13.8711 23.1772 13.8638 23.1845C13.8601 23.1918 12.659 23.1918 11.198 23.1882L8.54311 23.1772L8.64565 22.8481C8.70057 22.6652 8.77747 22.402 8.82141 22.263C8.8617 22.1204 9.01183 21.6267 9.15098 21.1659C9.29013 20.7015 9.42562 20.2554 9.44759 20.1713L9.48787 20.014L10.9416 20.0067L12.3954 19.9957L12.4064 19.6044L12.4174 19.2095L7.04175 19.2022L1.66615 19.1912L1.48305 19.0961C1.25236 18.9718 1.02532 18.7451 0.911803 18.522C0.842227 18.3831 0.823918 18.277 0.812932 17.9735L0.798285 17.6005H6.40459H12.0146L12.0036 17.2055L11.9926 16.8143L6.40093 16.8033L0.805609 16.796V12.6089V8.42176H0.402804H0L0.00732371 13.4207Z" />
                    <path
                      d="M17.0066 12.8319C16.948 12.8392 16.7832 12.8758 16.6404 12.905C15.6846 13.1171 14.8973 13.545 14.2235 14.2179C13.5571 14.8834 13.1579 15.6075 12.9163 16.5839C12.843 16.8764 12.832 17.019 12.832 17.6005C12.832 18.1819 12.843 18.3245 12.9163 18.6171C13.1579 19.5898 13.5571 20.3212 14.2235 20.9867C14.8973 21.6632 15.67 22.0801 16.677 22.3068C17.1311 22.4092 18.2076 22.3983 18.6544 22.2849C19.0901 22.1752 19.4124 22.0582 19.7603 21.8826L20.0459 21.74L21.0749 22.7603C22.2686 23.9415 22.3236 23.9817 22.8289 23.9817C23.0743 23.9817 23.1548 23.9634 23.3269 23.8793C23.5723 23.7623 23.8066 23.5209 23.9165 23.2759C23.9751 23.1479 23.997 23.0309 23.997 22.8115C24.0007 22.3068 23.9604 22.2483 22.774 21.0562L21.756 20.0323L21.8988 19.747C22.3199 18.9206 22.4957 17.904 22.3748 16.9971C22.1624 15.4027 21.1774 14.0204 19.7529 13.311C19.0755 12.9745 18.5189 12.8429 17.7206 12.8283C17.3874 12.8209 17.0688 12.8246 17.0066 12.8319ZM18.2699 13.6547C18.5482 13.6986 18.7679 13.7644 19.1561 13.9143C19.9983 14.2398 20.8076 15.0077 21.2177 15.8598C21.4264 16.3023 21.518 16.6058 21.5912 17.136C21.6498 17.5493 21.6498 17.6078 21.5912 18.0576C21.3532 19.9445 19.958 21.3378 18.0685 21.5755C17.6181 21.634 17.5595 21.634 17.1457 21.5755C16.6147 21.5023 16.3108 21.4109 15.8677 21.2025C15.0768 20.8222 14.3371 20.0798 13.9855 19.3046C13.6926 18.6646 13.601 18.16 13.6303 17.403C13.6559 16.7777 13.7475 16.4083 14.0295 15.8159C14.2895 15.2674 14.8753 14.6091 15.4136 14.2654C15.8824 13.9655 16.5561 13.7022 17.0066 13.6401C17.2409 13.6072 18.0429 13.6181 18.2699 13.6547ZM23.2134 22.8078C23.2134 22.9505 23.1951 23.0016 23.1072 23.0894C23.0193 23.1772 22.9681 23.1955 22.8252 23.1955H22.6495L21.6864 22.2374L20.7233 21.2756L21.0053 20.994L21.2909 20.7088L22.2503 21.6706L23.2134 22.6323V22.8078Z" />
                    <path
                      d="M17.0827 14.4556C16.7897 14.5068 16.5187 14.6019 16.2148 14.7481C15.8376 14.9346 15.6289 15.0809 15.3543 15.3588C14.2777 16.4303 14.1239 18.1271 14.9844 19.4143C15.1309 19.641 15.563 20.0725 15.7937 20.2298C16.3466 20.6065 16.9325 20.782 17.6356 20.782C18.1812 20.782 18.5547 20.6942 19.0527 20.4492C19.9426 20.0104 20.5871 19.1474 20.7592 18.171C20.8104 17.8894 20.8104 17.308 20.7592 17.03C20.6127 16.2036 20.0744 15.3881 19.386 14.9493C18.8221 14.5909 18.3863 14.4519 17.7418 14.4337C17.4818 14.43 17.1852 14.4373 17.0827 14.4556ZM18.0567 15.2455C18.9905 15.421 19.7339 16.1304 19.9572 17.0556C20.0488 17.4433 20.0488 17.7578 19.9572 18.1454C19.7412 19.0377 19.0527 19.7251 18.1593 19.9409C17.7711 20.0323 17.4562 20.0323 17.068 19.9409C16.1416 19.7178 15.4312 18.9755 15.2554 18.043C15.1822 17.6554 15.1822 17.5457 15.2664 17.1324C15.4715 16.156 16.2185 15.421 17.1925 15.2418C17.5441 15.176 17.7015 15.176 18.0567 15.2455Z" />
                    <path
                      d="M17.1991 16.0684C16.6242 16.2037 16.1116 16.7851 16.053 17.3739L16.0273 17.6006H16.4192C16.7854 17.6006 16.8073 17.5969 16.8073 17.5274C16.8073 17.2239 17.2284 16.7997 17.5324 16.7961C17.6093 16.7961 17.6129 16.7851 17.6129 16.4121V16.0281L17.4774 16.0318C17.4005 16.0354 17.276 16.0501 17.1991 16.0684Z" />
                  </g>
                  <defs>
                    <clipPath id="clip0_45_562">
                      <rect width="24" height="24" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </NavbarRightSvgItem>
            </div>
          </div>
          <div>
            <!-- پشتیبانی -->
            <div @click="actived_navbar = 'support'"
              class="flex flex-row mt-[0.888rem] w-[2.621rem] h-[2.277rem] cursor-pointer rounded-md hover:bg-base-250 items-center">
              <svg class="mx-auto" width="34" height="34" viewBox="0 0 34 34" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M5.72168 14.1827C5.72168 7.89269 10.8107 2.83337 17 2.83337C23.1893 2.83337 28.2783 7.89269 28.2783 14.1827"
                  stroke="#002145" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" />
                <path d="M27.3155 27.9932C25.8026 30.7279 22.3641 31.6851 19.6133 30.181" stroke="#002145"
                  stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" />
                <path
                  d="M7.92225 25.1218H5.17144C3.93358 25.1218 2.83325 24.0279 2.83325 22.7972V19.242C2.83325 18.0114 3.93358 16.9175 5.17144 16.9175H7.92225C8.60995 16.9175 9.02257 17.4644 9.02257 18.0114V23.8911C9.02257 24.5748 8.60995 25.1218 7.92225 25.1218Z"
                  fill="#002145" stroke="#002145" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path
                  d="M26.0776 16.9175H28.8284C30.0663 16.9175 31.1666 18.0114 31.1666 19.242V22.7972C31.1666 24.0279 30.0663 25.1218 28.8284 25.1218H26.0776C25.3899 25.1218 24.9773 24.5748 24.9773 24.0279V18.1481C24.9773 17.4644 25.3899 16.9175 26.0776 16.9175Z"
                  fill="#002145" stroke="#002145" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path
                  d="M19.5386 29.7561C20.0042 28.977 19.5875 27.8765 18.6079 27.298C17.6283 26.7195 16.4569 26.8821 15.9913 27.6611C15.5258 28.4402 15.9425 29.5408 16.9221 30.1193C17.9017 30.6978 19.0731 30.5352 19.5386 29.7561Z"
                  fill="#002145" stroke="#002145" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" />
              </svg>
            </div>

            <!-- سوالات متداول -->
            <div @click="actived_navbar = 'questions'">
              <NavbarRightSvgItem :active="actived_navbar === 'questions'">
                <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M15.0378 0C6.76927 0 0.0585938 6.79968 0.0585938 15.1779C0.0585938 23.556 6.76927 30.3557 15.0378 30.3557C23.3063 30.3557 30.017 23.556 30.017 15.1779C30.017 6.79968 23.3063 0 15.0378 0ZM16.5357 25.8024H13.5399V22.7668H16.5357V25.8024ZM19.6364 14.0395L18.2883 15.4359C17.5393 16.21 17.0001 16.9081 16.7304 18.0009C16.6106 18.4866 16.5357 19.033 16.5357 19.7312H13.5399V18.9723C13.5399 18.2742 13.6597 17.6063 13.8694 16.984C14.169 16.1037 14.6633 15.3145 15.2924 14.677L17.1499 12.7646C17.8389 12.0968 18.1684 11.095 17.9737 10.0326C17.779 8.93976 16.9401 8.01391 15.8916 7.71036C14.2289 7.23984 12.6861 8.19605 12.1917 9.63795C12.012 10.1995 11.5476 10.6245 10.9634 10.6245H10.5141C9.64528 10.6245 9.04611 9.77455 9.28578 8.92459C9.92988 6.69344 11.8023 4.99352 14.1241 4.62925C16.4009 4.26498 18.5729 5.46403 19.921 7.36127C21.6886 9.83526 21.1643 12.4914 19.6364 14.0395Z" />
                </svg>
              </NavbarRightSvgItem>
            </div>
            <hr class="mt-[1.125rem] w-[1.875rem] mx-auto" />
            <div
              class="flex mt-[0.79rem] w-[2.621rem] h-[2.277rem] cursor-pointer rounded-md hover:bg-base-250 items-center">
              <img src="/images/Xaankoo-Logo-Tranceparents.svg" />
            </div>
          </div>
        </NavbarRight>
        <!-- Right navbar content -->
        <div class="w-64 bg-base-100 h-full rounded-l-md border-l">
          <NavbarRightContentHome v-if="actived_navbar === 'home'" />
          <NavbarRightContentDepartment v-else />
        </div>
      </div>
      <div class="flex w-full rounded-t-md bg-base-100 overflow-y-auto">
        <slot></slot>
      </div>
    </div>
  </div>
</template>
<script setup>
import Config from "../composables/Config";

const cn = new Config();
const actived_navbar = ref("department");
const auth = ref({
  name: 'user',
  wallet: 0,
  subscription: 'اشتراک عادی',
});

onBeforeMount(() => {
  auth.value = {
    name: useCookie("user").value?.name ?? 'user',
    wallet: useCookie("user").value?.wallet ?? 0,
    subscription: useCookie("package").value?.type.label ?? 'اشتراک عادی',
  }
})

function profile() {
  return auth.value
}
</script>